<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="XianYuLauncher.Views.WorldOverviewPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid ColumnSpacing="16">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- 基本信息卡片 -->
        <StackPanel Grid.Column="0" 
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="20"
                    Spacing="16">
            <TextBlock Text="基本信息" 
                       Style="{StaticResource BodyStrongTextBlockStyle}"/>
            
            <StackPanel Spacing="12">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="100"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="种子" 
                               Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                               VerticalAlignment="Center"/>
                    
                    <!-- 可复制的种子信息 -->
                    <Button Grid.Column="1" 
                            Background="Transparent"
                            BorderThickness="0"
                            Padding="0"
                            Margin="-4,0,0,0"
                            HorizontalAlignment="Stretch"
                            HorizontalContentAlignment="Left"
                            VerticalAlignment="Center"
                            CornerRadius="4"
                            Click="CopySeedButton_Click"
                            ToolTipService.ToolTip="点击复制种子">
                        <Button.Resources>
                            <SolidColorBrush x:Key="ButtonBackgroundPointerOver" Color="{ThemeResource SubtleFillColorSecondary}"/>
                            <SolidColorBrush x:Key="ButtonBackgroundPressed" Color="{ThemeResource SubtleFillColorTertiary}"/>
                        </Button.Resources>
                        <Grid Padding="4,2">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0"
                                       Text="{x:Bind ViewModel.Seed, Mode=OneWay}" 
                                       TextWrapping="Wrap"
                                       VerticalAlignment="Center"/>
                            <FontIcon Grid.Column="1"
                                      Glyph="&#xE8C8;" 
                                      FontSize="14" 
                                      Margin="8,0,0,0"
                                      Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                      VerticalAlignment="Center"/>
                        </Grid>
                    </Button>
                </Grid>

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="100"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="创建时间" Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    <TextBlock Grid.Column="1" Text="{x:Bind ViewModel.FormattedCreationTime, Mode=OneWay}"/>
                </Grid>

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="100"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="最后游玩" Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    <TextBlock Grid.Column="1" Text="{x:Bind ViewModel.FormattedLastPlayedTime, Mode=OneWay}"/>
                </Grid>
            </StackPanel>
        </StackPanel>

        <!-- 统计信息卡片 -->
        <StackPanel Grid.Column="1" 
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="20"
                    Spacing="16">
            <TextBlock Text="游玩统计" 
                       Style="{StaticResource BodyStrongTextBlockStyle}"/>
            
            <StackPanel Spacing="12">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="120"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="游玩时长" Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="8">
                        <FontIcon Glyph="&#xE121;" FontSize="16"/>
                        <TextBlock Text="{x:Bind ViewModel.PlayTime, Mode=OneWay}" 
                                   FontWeight="SemiBold"/>
                    </StackPanel>
                </Grid>

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="120"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="游戏内天数" Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="8">
                        <FontIcon Glyph="&#xE787;" FontSize="16"/>
                        <TextBlock Text="{x:Bind ViewModel.McDays, Mode=OneWay}" 
                                   FontWeight="SemiBold"/>
                    </StackPanel>
                </Grid>

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="120"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="允许命令" Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="8">
                        <FontIcon Glyph="&#xE756;" FontSize="16"/>
                        <TextBlock Text="{x:Bind ViewModel.AllowCommands, Mode=OneWay}" 
                                   FontWeight="SemiBold"/>
                    </StackPanel>
                </Grid>
            </StackPanel>
        </StackPanel>
    </Grid>
</Page>
